<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jamia Ahli-hadees Mohammadia Masjid Cherwan Kangan</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet" />
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- AOS for Animations -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <!-- Navigation -->
  <nav data-aos="fade-down">
    <div class="logo">Jamia Ahli Hadees Mohammadia Masjid Cherwan</div>
    <div class="menu-toggle">☰</div>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#services">Services</a></li>
      <li><a href="#knowledge">Knowledge Center</a></li>
      <li><a href="#ramadan">Ramadan</a></li>
      <li><a href="#gallery">Gallery</a></li>
      <li><a href="#announcements">Announcements</a></li>
      <li><a href="#donate">Donate</a></li>
      <li><a href="#community">Community</a></li>
      <li><a href="#footer">Contact</a></li>
    </ul>
  </nav>

  <!-- Hero Section -->
  <header id="home">
    <div class="hero-content" data-aos="fade-up">
      <h1>Welcome to:</h1>
      <h2>Jamia Ahli Hadees Mohammadia Masjid Cherwan</h2>
      <p class="hero-subheading">Connecting our community through faith, knowledge, and unity.</p>
      <a href="#prayer-times" class="btn">View Prayer Times</a>
    </div>
  </header>

  <!-- Chatbot Section (Visible by Default, Full Space, All Messages Visible, English Only) -->
  <div class="chatbot-container glass" data-aos="fade-up">
    <div class="chatbot" id="chatbot">
      <h3>Chat with Us <i class="fas fa-robot"></i></h3>
      <div class="chat-messages" id="chat-messages">
        <p class="bot-message">Hello! How can I assist you with Masjid Mohammadia Cherwan today? I’m here to answer any question, even a single word, by analyzing our website and related pages.</p>
      </div>
      <div class="chat-input-container">
        <input type="text" id="chat-input" placeholder="Ask any question (e.g., masjid, services, prayers, Ramadan...)..." />
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>
  </div>

  <!-- Announcement Section -->
  <section id="announcements" data-aos="fade-up">
    <h2 class="section-title">Important Announcements</h2>
    <div class="announcement-marquee">
      <div class="marquee-track">
        <div class="marquee-content">
          <span class="announcement-item">We are accepting applications for immediate marriage and food assistance. Please contact the masjid office or request help in the Dar-ul-Mawasaat Services section. -Chairman, Mohammadia Masjid</span>
          <span class="announcement-item">All members are requested to attend the meeting scheduled tomorrow at 6 PM in the masjid hall to discuss upcoming community events. -Tariq Mushtaq Mir</span>
          <!-- Duplicates for seamless loop -->
          <span class="announcement-item">We are accepting applications for immediate marriage and food assistance. Please contact the masjid office or request help in the Dar-ul-Mawasaat Services section. -Chairman, Mohammadia Masjid</span>
          <span class="announcement-item">All members are requested to attend the meeting scheduled tomorrow at 6 PM in the masjid hall to discuss upcoming community events. -Tariq Mushtaq Mir</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Ramadan Section -->
  <section id="ramadan" data-aos="fade-up">
    <h2 class="section-title">Ramadan 2025</h2>
    <div class="ramadan-container">
      <div class="ramadan-times" data-aos="fade-up" data-aos-delay="100">
        <h3>Today’s Ramadan Timings (J&K)</h3>
        <p><strong>Suhoor:</strong> <span id="suhoor-time">04:45 AM</span></p>
        <p><strong>Iftar:</strong> <span id="iftar-time">06:15 PM</span></p>
        <p class="note">*Approximate times for Srinagar, J&K, based on Ahl al-Hadith methodology. Adjust according to moon sighting.</p>
      </div>
      <div class="ramadan-quote" data-aos="fade-up" data-aos-delay="200">
        <h3>Daily Inspiration</h3>
        <p id="daily-quote">"Fasting is a shield with which a servant protects himself from the Fire." - Prophet Muhammad (SAW)</p>
      </div>
    </div>
    <div class="ramadan-calendar" data-aos="fade-up" data-aos-delay="300">
      <h3>Ramadan Calendar (First Week Preview)</h3>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Suhoor</th>
            <th>Iftar</th>
          </tr>
        </thead>
        <tbody id="ramadan-table">
          <!-- Dynamically populated by JavaScript -->
        </tbody>
      </table>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" data-aos="fade-up">
    <h2 class="section-title">About Us</h2>
    <div class="content">
      <p>
        Jamia Ahli Hadees Mohammadia Masjid Cherwan is dedicated to serving our community with a rich history and visionary leadership.
      </p>
      <a href="about.html" class="btn-about" target="_blank">Know More About Us</a>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" data-aos="fade-up">
    <h2 class="section-title">Our Services</h2>
    <div class="services-container">
      <div class="service-card" data-aos="zoom-in" data-aos-delay="100">
        <i class="fas fa-mosque service-icon"></i>
        <h3>Masjid Services</h3>
        <p>Daily prayers, Friday sermons, and spiritual guidance for all.</p>
        <a href="masjid-services.html" class="btn-service" target="_blank">Explore Masjid Services</a>
      </div>
      <div class="service-card" data-aos="zoom-in" data-aos-delay="200">
        <i class="fas fa-heart service-icon"></i>
        <h3>Dar-ul-Mawasaat Services</h3>
        <p>Charity, welfare initiatives, and community support programs, including assistance for marriage, food, cash, flood, medical needs, employment, and disasters.</p>
        <a href="darul-mawasaat-services.html" class="btn-service" target="_blank">Explore Welfare Services</a>
      </div>
      <div class="service-card" data-aos="zoom-in" data-aos-delay="300">
        <i class="fas fa-book service-icon"></i>
        <h3>Darasgah Services</h3>
        <p>Educational programs, Quranic studies, and youth development.</p>
        <a href="darasgah-services.html" class="btn-service" target="_blank">Explore Darasgah Services</a>
      </div>
      <div class="service-card" data-aos="zoom-in" data-aos-delay="400">
        <i class="fas fa-hands-helping service-icon"></i>
        <h3>Other Community Services</h3>
        <p>Cultural events, outreach, and additional community support.</p>
        <a href="other-services.html" class="btn-service" target="_blank">Explore Other Services</a>
      </div>
    </div>
  </section>

  <!-- Prayer Times Section -->
  <section id="prayer-times" data-aos="fade-up">
    <h2 class="section-title">Prayer Times</h2>
    <table>
      <thead>
        <tr>
          <th>Fajr</th>
          <th>Sunrise</th>
          <th>Dhuhr</th>
          <th>Asr</th>
          <th>Maghrib</th>
          <th>Isha</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>05:00 AM</td>
          <td>06:15 AM</td>
          <td>12:30 PM</td>
          <td>03:45 PM</td>
          <td>06:30 PM</td>
          <td>07:45 PM</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Knowledge Center Section -->
  <section id="knowledge" data-aos="fade-up">
    <h2 class="section-title">Knowledge Center</h2>
    <div class="knowledge-container">
      <div class="knowledge-item" data-aos="fade-up" data-aos-delay="100">
        <h3>Quranic Studies</h3>
        <p>Access resources and videos for deepening your understanding of the Quran.</p>
        <a href="https://quran.com" class="btn-knowledge">Learn More</a>
      </div>
      <div class="knowledge-item" data-aos="fade-up" data-aos-delay="200">
        <h3>Hadith Library</h3>
        <p>Explore authentic Hadith collections and their explanations.</p>
        <a href="https://sunnah.com" class="btn-knowledge">Explore</a>
      </div>
      <div class="knowledge-item" data-aos="fade-up" data-aos-delay="300">
        <h3>Islamic Lectures</h3>
        <p>Watch recorded lectures by renowned Ahl al-Hadith scholars.</p>
        <a href="https://youtube.com/@salafiserver?si=hCVWSeK8GyVtbEnv" class="btn-knowledge">Watch Now</a>
      </div>
    </div>
  </section>

  <!-- Events Section -->
  <section id="events" data-aos="fade-up">
    <h2 class="section-title">Upcoming Events</h2>
    <div class="events-container">
      <div class="event" data-aos="fade-up" data-aos-delay="100">
        <h3>Friday Khutbah</h3>
        <p>Join us every Friday for our weekly sermon and congregational prayer.</p>
      </div>
      <div class="event" data-aos="fade-up" data-aos-delay="200">
        <h3>Quran Recitation</h3>
        <p>Experience the beauty of the Quran during our weekly recitation sessions.</p>
      </div>
      <div class="event" data-aos="fade-up" data-aos-delay="300">
        <h3>Community Iftar</h3>
        <p>Break your fast with our community during Ramadan with special iftar gatherings.</p>
      </div>
      <div class="event" data-aos="fade-up" data-aos-delay="400">
        <h3>Charity Drive</h3>
        <p>Support our local community through our ongoing charity initiatives.</p>
      </div>
      <div class="event" data-aos="fade-up" data-aos-delay="500">
        <h3>Iftar Party</h3>
        <p>"Whoever feeds a fasting person will have a reward like that of the fasting person, without diminishing their reward in any way." - Prophet Muhammad (SAW)</p>
        <button class="iftar-button" onclick="showIftarList()">Get List</button>
      </div>
    </div>
  </section>

  <!-- Iftar Party Modal -->
  <div id="iftar-modal" class="modal">
    <div class="modal-content glass">
      <span class="close-btn" onclick="closeIftarList()">&times;</span>
      <h3>Iftar Party List</h3>
      <div class="modal-table-container">
        <table class="iftar-table">
          <thead>
            <tr>
              <th>S No.</th>
              <th>Name of Individual/Person</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody id="iftar-table-body">
            <!-- Dynamically populated by JavaScript -->
          </tbody>
        </table>
        <p>For queries, call: 9149792910, 9622467778, 6006254589</p>
        <p>Arrangements managed by: Tr Irshad Ahmad Mir, Tariq Ahmad Mir, Mubashir Mushtaq, Shahid Qadir SG, Shahbaz Magray</p>
        <p>Issued by: Unit President Showkat Ahmad Mir</p>
      </div>
    </div>
  </div>

  <!-- Gallery Section -->
  <section id="gallery" data-aos="fade-up">
    <div class="gallery-container">
      <h2 class="section-title">Gallery</h2>
      <p><strong>Explore our journey and commitment</strong></p>
      <div class="gallery-grid">
        <img src="gallery1.jpg" alt="Gallery Image 1">
        <img src="gallery2.jpg" alt="Gallery Image 2">
      </div>
      <a href="gallery.html" class="btn-gallery">Go To Masjid Gallery</a>
    </div>
  </section>

  <!-- Donation Section -->
  <section id="donate" data-aos="fade-up">
    <h2 class="section-title">Support Our Community</h2>
    <div class="donate-content">
      <p>Your generous donations help us continue our programs and outreach initiatives. Every contribution makes a difference.</p>
      <a href="donate.html" class="btn">Donate Now</a>
    </div>
  </section>

  <!-- Community Corner Section -->
  <section id="community" data-aos="fade-up">
    <h2 class="section-title">Community Corner</h2>
    <div class="community-container">
      <div class="community-item" data-aos="fade-up" data-aos-delay="100">
        <h3>Volunteer Opportunities</h3>
        <p>Join us in serving the community through various volunteer roles.</p>
        <a href="#" class="btn-community">Sign Up</a>
      </div>
      <div class="community-item" data-aos="fade-up" data-aos-delay="200">
        <h3>Youth Programs</h3>
        <p>Engage our youth in activities that build faith and character.</p>
        <a href="#" class="btn-community">Learn More</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="footer" data-aos="fade-up">
    <div class="footer-content">
      <div class="footer-about">
        <h3>Jamia Ahli Hadees Mohammadia Masjid Cherwan</h3>
        <p>Cherwan Kangan, 191202<br>A sacred place to unite, learn, and ponder.</p>
      </div>
      <div class="footer-contact">
        <h3>Contact Us</h3>
        <p>Phone: 6006254589, 9622000919<br>Email: <a href="/cdn-cgi/l/email-protection#ea83848c85aa878b9980838e8785828b87878b8e838bc4898587"><span class="__cf_email__" data-cfemail="8ce5e2eae3cce1edffe6e5e8e1e3e4ede1e1ede8e5eda2efe3e1">[email protected]</span></a></p>
      </div>
      <div class="footer-social">
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="https://www.facebook.com/share/19ofrYye8Y/"><i class="fab fa-facebook-f"></i></a>
          <a href="https://youtube.com/@salafiserver?si=hCVWSeK8GyVtbEnv"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>Technical support : Arbaz Rashid.</p>
      <p>© 2025 Masjid Mohammadia Cherwan. All rights reserved.</p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
  <script>
    AOS.init();

    const menuToggle = document.querySelector('.menu-toggle');
    const navUl = document.querySelector('nav ul');
    const navLinks = document.querySelectorAll('nav ul li a');

    // Toggle menu on hamburger click
    menuToggle.addEventListener('click', () => {
      navUl.classList.toggle('active');
      navUl.style.display = navUl.classList.contains('active') ? 'flex' : 'none';
    });

    // Close menu on link click
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        navUl.classList.remove('active');
        navUl.style.display = 'none';
      });
    });

    // Daily Quote or Scientific Fact for Ramadan
    const quotes = [
      '"Fasting is a shield with which a servant protects himself from the Fire." - Prophet Muhammad (SAW)',
      '"The month of Ramadan [is that] in which was revealed the Quran." - Quran 2:185',
      'Scientific Fact: Fasting boosts brain function by increasing BDNF levels.',
      '"Whoever fasts Ramadan with faith and seeking reward, his past sins will be forgiven." - Sahih Bukhari',
      'Scientific Fact: Intermittent fasting improves insulin sensitivity.',
      '"When Ramadan arrives, the gates of Paradise are opened." - Sahih Muslim',
      'Scientific Fact: Fasting promotes cellular repair through autophagy.'
    ];
    const today = new Date().getDate() % quotes.length;
    document.getElementById('daily-quote').textContent = quotes[today];

    // Dynamic Ramadan Timings and Calendar
    function updateRamadanTimings() {
      const baseDate = new Date('2025-02-22');
      const currentDate = new Date();
      const daysSinceBase = Math.floor((currentDate - baseDate) / (1000 * 60 * 60 * 24));

      let baseSuhoorMinutes = (4 * 60) + 45; // 04:45 AM
      let baseIftarMinutes = (18 * 60) + 15; // 06:15 PM

      const suhoorShift = daysSinceBase * 1;
      const iftarShift = daysSinceBase * 2;

      let suhoorTotal = baseSuhoorMinutes + suhoorShift;
      let iftarTotal = baseIftarMinutes + iftarShift;

      const suhoorHours = Math.floor(suhoorTotal / 60);
      const suhoorMins = suhoorTotal % 60;
      const iftarHours = Math.floor(iftarTotal / 60);
      const iftarMins = iftarTotal % 60;

      const suhoorTime = `${suhoorHours.toString().padStart(2, '0')}:${suhoorMins.toString().padStart(2, '0')} AM`;
      const iftarTime = `${(iftarHours > 12 ? iftarHours - 12 : iftarHours).toString().padStart(2, '0')}:${iftarMins.toString().padStart(2, '0')} PM`;

      document.getElementById('suhoor-time').textContent = suhoorTime;
      document.getElementById('iftar-time').textContent = iftarTime;

      const tableBody = document.getElementById('ramadan-table');
      tableBody.innerHTML = '';
      for (let i = 0; i < 7; i++) {
        const dayDate = new Date(baseDate);
        dayDate.setDate(baseDate.getDate() + i);
        const daySuhoor = baseSuhoorMinutes + (i * 1);
        const dayIftar = baseIftarMinutes + (i * 2);
        const suhoorH = Math.floor(daySuhoor / 60);
        const suhoorM = daySuhoor % 60;
        const iftarH = Math.floor(dayIftar / 60);
        const iftarM = dayIftar % 60;
        const row = `
          <tr>
            <td>${dayDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</td>
            <td>${suhoorH.toString().padStart(2, '0')}:${suhoorM.toString().padStart(2, '0')} AM</td>
            <td>${(iftarH > 12 ? iftarH - 12 : iftarH).toString().padStart(2, '0')}:${iftarM.toString().padStart(2, '0')} PM</td>
          </tr>
        `;
        tableBody.innerHTML += row;
      }
    }

    updateRamadanTimings();
    setInterval(updateRamadanTimings, 24 * 60 * 60 * 1000);

    // Advanced Chatbot Functionality (Dynamic Analysis, Single-Word Queries, English Only, No Links)
    function sendMessage() {
      const input = document.getElementById('chat-input');
      const message = input.value.trim().toLowerCase();
      if (message) {
        const messages = document.getElementById('chat-messages');
        messages.innerHTML += `<p class="user-message">You: ${input.value}</p>`;
        let response = analyzeAndRespond(message);
        setTimeout(() => {
          messages.innerHTML += `<p class="bot-message">Bot: ${response}</p>`;
          messages.scrollTop = messages.scrollHeight; // Auto-scroll to show all messages
        }, 1000); // Longer delay for realistic, thoughtful response
        input.value = '';
        messages.scrollTop = messages.scrollHeight; // Ensure all messages are visible
      }
    }

    function analyzeAndRespond(message) {
      // Simulate dynamic analysis of index.html, about.html, darul-mawasaat-services.html, and other linked pages
      const content = {
        // General webpage data from index.html
        general: {
          name: 'Jamia Ahli Hadees Mohammadia Masjid Cherwan',
          location: 'Cherwan Kangan, 191202',
          purpose: 'Unites the community through faith, knowledge, and unity',
          services: 'Religious services (prayers, sermons), charity, education, youth programs, community events, welfare (marriage aid, food assistance, employment, medical support, disaster relief, cash assistance, flood assistance)',
          events: 'Friday Khutbah, Quran Recitation, Community Iftar, Charity Drive, Iftar Party',
          prayerTimes: {
            fajr: '5:00 AM', sunrise: '6:15 AM', dhuhr: '12:30 PM', asr: '3:45 PM', maghrib: '6:30 PM', isha: '7:45 PM'
          },
          ramadan: 'Sacred month of fasting, prayer, and reflection with Suhoor at 04:45 AM and Iftar at 06:15 PM (J&K, approximate)',
          knowledge: 'Quranic Studies, Hadith Library, Islamic Lectures',
          gallery: 'Photos of masjid, events, and community activities',
          donation: 'Supports programs, charity, and community initiatives',
          community: 'Volunteer opportunities, youth programs, welfare initiatives',
          help: 'Assistance for marriage, food, employment, medical needs, disasters, emergencies, cash, floods',
          contact: 'Phone: 6006254589, 9622000919; Email: [email protected]',
          social: 'Facebook and YouTube for updates'
        },
        // About.html data
        about: {
          history: 'Founded decades ago, foundation stone laid April 28, 2018, by Khursheed Ahmad Mir, first prayer by Manzoor Ahmad Magaray, land donated by Gh. Qadir Sheer Gojri and Abdul Raheem Sheer Gojri (19 marlas)',
          leadership: 'Led by Showkat Ahmad Mir (current chairman), Khursheed Ahmad Mir, Manzoor Ahmad Magaray, Javaid Ahmad Raina, Tariq Ahmad Magray',
          youth: 'Youth programs include Quranic studies, clubs, service by volunteers like Mudasir Majeed, Yaseen Ahmad Magaray',
          affiliation: 'Affiliated with Jamiat Ahl-e-Hadees Jammu & Kashmir, Barbarshah',
          finance: 'Managed transparently by Tr. Mohammad Yousuf Mir',
          welfare: 'Darul Mawasat Bait-ul-Maal offers marriage aid for orphans, employment, medical aid, disaster relief, food assistance, cash assistance, flood assistance'
        },
        // Linked pages (inferred from service links, including darul-mawasaat-services.html)
        services: {
          masjid: 'Daily prayers, Friday sermons, spiritual guidance',
          darulMawasaat: 'Charity, welfare (marriage assistance, food assistance, cash assistance, flood assistance, medical assistance, employment assistance, disaster relief), community support',
          darasgah: 'Education, Quranic studies, youth development',
          community: 'Cultural events, outreach, community support'
        }
      };

      // Dynamic response generation for any input, including single words and English queries
      let response = '';
      const words = message.split(' ');
      const firstWord = words[0];

      // Handle single words or short queries
      if (message.length <= 1 || words.length === 1) {
        response = handleSingleWord(message, content);
      } else {
        // Handle full questions, prioritizing interrogatives (what, which, when, how, why, where) and general terms
        const interrogatives = {
          what: ['what'],
          which: ['which'],
          when: ['when'],
          how: ['how'],
          why: ['why'],
          where: ['where']
        };

        for (let type in interrogatives) {
          if (interrogatives[type].some(word => message.includes(word))) {
            response = generateInterrogativeResponse(message, type, content);
            break;
          }
        }

        if (!response) {
          response = generateGeneralResponse(message, content);
        }
      }

      return response || 'Please clarify your question. I’m here to help with any inquiry about Masjid Mohammadia Cherwan, its services, events, or community!';
    }

    function handleSingleWord(word, content) {
      const lowercaseWord = word.toLowerCase();
      // English single-word mappings
      const wordMap = {
        'masjid': 'Jamia Ahli Hadees Mohammadia Masjid Cherwan is a sacred place in Cherwan Kangan that serves our community with faith, knowledge, and unity.',
        'services': 'We offer religious services like prayers and sermons, charity, education, youth programs, and community events.',
        'prayers': 'Prayers are held daily with timings like Fajr at 5:00 AM, Dhuhr at 12:30 PM, and Friday sermons weekly.',
        'ramadan': 'Ramadan 2025 is a sacred month of fasting, prayer, and reflection, with Suhoor at 04:45 AM and Iftar at 06:15 PM for J&K.',
        'events': 'Events include Friday Khutbah, Quran Recitation, Community Iftar, Charity Drive, and Iftar Party.',
        'knowledge': 'The Knowledge Center provides Quranic Studies, Hadith Library, and Islamic Lectures for learning.',
        'gallery': 'The gallery shows photos of our masjid, events, and community activities.',
        'donate': 'Donating supports our programs, charity, and community initiatives.',
        'community': 'Our community benefits from services, volunteering, youth programs, and welfare.',
        'help': 'We provide assistance for marriage, food, employment, medical needs, disasters, cash, and floods.',
        'contact': 'Contact us at 6006254589, 9622000919, or [email protected].',
        'social': 'Follow us on Facebook and YouTube for updates.',
        'youth': 'Youth programs include Quranic studies, clubs, and service by volunteers like Mudasir Majeed.',
        'welfare': 'Welfare includes marriage aid, food assistance, cash assistance, flood assistance, medical assistance, employment, and disaster relief.',
        'chairman': 'The current chairman is Showkat Ahmad Mir, leading our masjid’s initiatives.',
        'history': 'Our masjid was founded decades ago, with the foundation stone laid on April 28, 2018.',
        'affiliation': 'We’re affiliated with Jamiat Ahl-e-Hadees Jammu & Kashmir, Barbarshah.'
      };

      return wordMap[lowercaseWord] || generateGeneralResponse(lowercaseWord, content);
    }

    function generateInterrogativeResponse(message, type, content) {
      const words = message.split(' ').slice(1).join(' ').toLowerCase();
      switch (type) {
        case 'what':
          if (words.includes('masjid')) return 'Jamia Ahli Hadees Mohammadia Masjid Cherwan is a sacred place in Cherwan Kangan that serves our community with faith, knowledge, and unity, led by dedicated leaders.';
          if (words.includes('services')) return 'We offer religious services like prayers and sermons, charity including marriage, food, cash, flood, and medical assistance, education, youth programs, and community events.';
          if (words.includes('events')) return 'Our events include Friday Khutbah, Quran Recitation, Community Iftar, Charity Drive, and Iftar Party during Ramadan.';
          if (words.includes('prayer times')) return 'Prayer times are Fajr at 5:00 AM, Sunrise at 6:15 AM, Dhuhr at 12:30 PM, Asr at 3:45 PM, Maghrib at 6:30 PM, and Isha at 7:45 PM.';
          if (words.includes('ramadan')) return 'Ramadan 2025 is a sacred month of fasting, prayer, and reflection, with Suhoor at 04:45 AM and Iftar at 06:15 PM for J&K, approximate for Srinagar.';
          if (words.includes('knowledge')) return 'The Knowledge Center provides Quranic Studies, Hadith Library, and Islamic Lectures for learning.';
          if (words.includes('gallery')) return 'The gallery features photos of our masjid, events, and community activities.';
          if (words.includes('donate') || words.includes('donations')) return 'Donating supports our religious programs, charity, education, youth initiatives, and community welfare.';
          if (words.includes('community')) return 'Our community benefits from services, volunteer opportunities, youth programs, and welfare initiatives like marriage and food aid.';
          if (words.includes('help')) return 'We provide assistance for marriage, food, employment, medical needs, disasters, emergencies, cash, and floods through our welfare programs.';
          break;
        case 'which':
          if (words.includes('masjid')) return 'This is Jamia Ahli Hadees Mohammadia Masjid Cherwan in Cherwan Kangan, serving our community.';
          if (words.includes('services')) return 'Services that include youth are educational programs and community events, while charity includes welfare like marriage, food, cash, flood, and medical assistance.';
          if (words.includes('events')) return 'Events for Ramadan include Community Iftar and Iftar Party, while weekly events include Friday Khutbah and Quran Recitation.';
          if (words.includes('prayers')) return 'Daily prayers are Fajr, Dhuhr, Asr, Maghrib, and Isha, with Friday Khutbah as a weekly event.';
          if (words.includes('resources')) return 'Resources covering Quran are in Quranic Studies, Hadith in Hadith Library, and lectures in Islamic Lectures, all in the Knowledge Center.';
          if (words.includes('photos')) return 'Photos in the gallery show our masjid, events, and community moments.';
          if (words.includes('donations')) return 'Donations that help charity support welfare programs like marriage, food, cash, flood, and medical assistance.';
          if (words.includes('volunteers')) return 'Volunteers leading youth include Mudasir Majeed, Yaseen Ahmad Magaray, and others in our programs.';
          if (words.includes('welfare')) return 'Welfare programs assisting the needy include marriage aid, food assistance, cash assistance, flood assistance, medical assistance, employment, and disaster relief.';
          if (words.includes('contact')) return 'Contact methods that work are phone at 6006254589 or 9622000919, and email at [email protected].';
          break;
        case 'when':
          if (words.includes('prayer times')) return 'Prayer times are Fajr at 5:00 AM, Dhuhr at 12:30 PM, Asr at 3:45 PM, Maghrib at 6:30 PM, and Isha at 7:45 PM, with Sunrise at 6:15 AM.';
          if (words.includes('ramadan')) return 'Ramadan 2025 occurs annually, starting around February 22, 2025, with fasting from dawn to sunset.';
          if (words.includes('events')) return 'Events occur weekly (Friday Khutbah, Quran Recitation) and during Ramadan (Community Iftar, Iftar Party).';
          if (words.includes('masjid founded')) return 'The masjid was founded with its foundation stone laid on April 28, 2018.';
          if (words.includes('youth programs')) return 'Youth programs are held weekly through educational and community activities, often on weekends or after prayers.';
          if (words.includes('suhoor')) return 'Suhoor is at about 04:45 AM during Ramadan for J&K, approximate for Srinagar.';
          if (words.includes('iftar')) return 'Iftar is at about 06:15 PM during Ramadan for J&K, approximate for Srinagar.';
          if (words.includes('volunteer')) return 'You can volunteer during community events, typically scheduled weekly or monthly, contact us for details.';
          if (words.includes('help')) return 'Help is available anytime; contact us at 6006254589 or 9622000919 for immediate assistance.';
          if (words.includes('charity drives')) return 'Charity drives occur periodically, often during Ramadan or community events, check announcements for dates.';
          break;
        case 'how':
          if (words.includes('donate')) return 'You can donate by visiting the Support Our Community section on our website or contacting us at 6006254589 or 9622000919.';
          if (words.includes('contact')) return 'Contact us by calling 6006254589 or 9622000919, or emailing [email protected].';
          if (words.includes('services')) return 'Services are provided through daily prayers, educational sessions, charity programs, and community events organized by our team.';
          if (words.includes('ramadan')) return 'Ramadan works by fasting from dawn (Suhoor at 04:45 AM) to sunset (Iftar at 06:15 PM), with prayers and community support during the month.';
          if (words.includes('events')) return 'Events are organized by scheduling prayers, recitations, and gatherings, announced in the Upcoming Events section.';
          if (words.includes('volunteer')) return 'Volunteer by contacting us at 6006254589 or 9622000919, or signing up in the Community Corner section.';
          if (words.includes('gallery')) return 'The gallery works by displaying photos of our masjid, events, and community in the Gallery section for viewing.';
          if (words.includes('help')) return 'Get help by filling out the form in the Dar-ul-Mawasaat Services section or calling 6006254589 or 9622000919.';
          if (words.includes('youth programs')) return 'Youth programs are run through educational classes, clubs, and service projects, led by our youth volunteers and staff.';
          if (words.includes('welfare')) return 'Welfare is managed by Darul Mawasat Bait-ul-Maal, distributing aid for marriage, food, cash, flood, medical needs, and disasters transparently.';
          break;
        case 'why':
          if (words.includes('masjid')) return 'The masjid is important to unite our community through faith, provide education, and offer welfare services for spiritual and social growth.';
          if (words.includes('services')) return 'We offer services to support religious practice, educate our youth, assist the needy with marriage, food, cash, flood, and medical aid, and foster community unity.';
          if (words.includes('events')) return 'Events are held to engage the community, celebrate Ramadan, raise charity, and strengthen bonds through spiritual and social activities.';
          if (words.includes('prayer times')) return 'We follow prayer times to maintain daily spiritual practice, aligning with Islamic tradition for community worship.';
          if (words.includes('ramadan')) return 'We observe Ramadan to fast, pray, and reflect, fostering spiritual growth and community solidarity during this sacred month.';
          if (words.includes('knowledge')) return 'Knowledge resources are provided to deepen understanding of Islam, educate the community, and inspire spiritual growth.';
          if (words.includes('gallery')) return 'The gallery exists to showcase our masjid’s history, events, and community efforts, inspiring pride and connection.';
          if (words.includes('donate')) return 'Donations are needed to fund our programs, charity, education, and community initiatives for continued service.';
          if (words.includes('community')) return 'We engage the community to build unity, support welfare, and involve youth in meaningful activities for collective growth.';
          if (words.includes('help')) return 'We offer help to support the needy, strengthen community bonds, and fulfill our welfare mission for social harmony.';
          break;
        case 'where':
          if (words.includes('masjid')) return 'The masjid is located in Cherwan Kangan, 191202.';
          if (words.includes('events')) return 'Events are held at the masjid in Cherwan Kangan or announced in the Upcoming Events section.';
          if (words.includes('prayer times')) return 'Prayer times are listed in the Prayer Times section on our website.';
          if (words.includes('ramadan info')) return 'Ramadan information is in the Ramadan 2025 section on our website.';
          if (words.includes('knowledge')) return 'Knowledge resources are in the Knowledge Center section on our website.';
          if (words.includes('gallery')) return 'The gallery is in the Gallery section on our website, showing our photos and events.';
          if (words.includes('donate')) return 'You can donate through the Support Our Community section on our website.';
          if (words.includes('community programs')) return 'Community programs are in the Community Corner and Services sections on our website.';
          if (words.includes('help')) return 'Help is available through the Dar-ul-Mawasaat Services section on our website or by contacting us.';
          if (words.includes('social media')) return 'Social media links are in the Follow Us section in the footer of our website.';
          break;
      }
      return 'Please clarify your question. I’m here to help!' || generateGeneralResponse(message, content);
    }

    function generateGeneralResponse(message, content) {
      const words = message.split(' ');
      for (let word of words) {
        if (content.general.hasOwnProperty(word)) {
          if (typeof content.general[word] === 'object') {
            return `Here are details for ${word}: ${JSON.stringify(content.general[word]).replace(/["{}]/g, '')}`;
          }
          return content.general[word];
        }
        if (content.about.hasOwnProperty(word)) return content.about[word];
        if (content.services.hasOwnProperty(word)) return content.services[word];
      }
      return 'Please clarify your question. I’m here to help with any inquiry about Masjid Mohammadia Cherwan, its services, events, or community!';
    }

    // Iftar Party List Functions
    const iftarList = [
      { sno: 1, name: "Tariq Ahmad Sheer Gojri", date: "02/03/2025" },
      { sno: 2, name: "Mehraj-ud-Din Magray", date: "03/03/2025" },
      { sno: 3, name: "Gh Nabi Mir", date: "04/03/2025" },
      { sno: 4, name: "Tariq Ahmad Magray (Hardpath)", date: "05/03/2025" },
      { sno: 5, name: "Irshad Ahmad Mir", date: "06/03/2025" },
      { sno: 6, name: "Showkat Ahmad Mir", date: "07/03/2025" },
      { sno: 7, name: "Manzoor Ahmad Magray", date: "08/03/2025" },
      { sno: 8, name: "Javaid Ahmad Raina", date: "09/03/2025" },
      { sno: 9, name: "Nazir Ahmad Wani", date: "10/03/2025" },
      { sno: 10, name: "Abdul Raheem Magray", date: "11/03/2025" },
      { sno: 11, name: "Mohd Maqbool Magray", date: "12/03/2025" },
      { sno: 12, name: "Tr Shabir Ahmad Magray", date: "13/03/2025" },
      { sno: 13, name: "Tr. Mohd Yousuf Mir", date: "14/03/2025" },
      { sno: 14, name: "Adil Majeed Magray", date: "15/03/2025" },
      { sno: 15, name: "Tariq Ahmad Mir", date: "16/03/2025" },
      { sno: 16, name: "Shabir Ahmad Sheer Gojri", date: "17/03/2025" },
      { sno: 17, name: "Manzoor Ahmad Wani", date: "18/03/2025" },
      { sno: 18, name: "Mumtaz Ahmad Sheer Gojri", date: "19/03/2025" },
      { sno: 19, name: "Mohd Saleem Magray", date: "20/03/2025" },
      { sno: 20, name: "Aadil Magray (Hardpet)", date: "21/03/2025" },
      { sno: 21, name: "Parvaiz Ahmad Magray", date: "22/03/2025" },
      { sno: 22, name: "Abdul Rashid Magray", date: "23/03/2025" },
      { sno: 23, name: "Manzoor Ahmad Sheer Gojri", date: "24/03/2025" },
      { sno: 24, name: "Khursheed Ahmad Mir", date: "25/03/2025" },
      { sno: 25, name: "Shahnawaz Ahmad Sheer Gojri", date: "26/03/2025" },
      { sno: 26, name: "Irfan Ahmad Magray", date: "27/03/2025" },
      { sno: 27, name: "Ali Mohd Wani", date: "28/03/2025" },
      { sno: 28, name: "Tariq Ahmad Magray (Herpora)", date: "29/03/2025" },
      { sno: 29, name: "Abdul Ahad Magray", date: "30/03/2025" },
      { sno: 30, name: "Mohd Shafi Magray", date: "31/03/2025" },
      { sno: 31, name: "Shakeel Ahmad Sheer Gojri", date: "" },
      { sno: 32, name: "Javaid Ahmad Sheer Gojri", date: "" },
      { sno: 33, name: "Tr Mushtaq Ahmad Mir", date: "" },
      { sno: 34, name: "Dr Tanveer", date: "" },
      { sno: 35, name: "Mehraj Ud Din Magray (Banpora)", date: "" },
      { sno: 36, name: "Mohd Yousuf Wani", date: "" },
      { sno: 37, name: "Tr Mushtaq Ahmad Magray", date: "" },
      { sno: 38, name: "Mushtaq Ahmad Magray", date: "" },
      { sno: 39, name: "Manzoor Ahmad Magray Herpora", date: "" },
      { sno: 40, name: "Mohd Yousf Raina", date: "" },
      { sno: 41, name: "Farooq Ahmad Magray", date: "" }
    ];

    function showIftarList() {
      const tableBody = document.getElementById('iftar-table-body');
      tableBody.innerHTML = '';
      iftarList.forEach(item => {
        const row = `
          <tr>
            <td>${item.sno}</td>
            <td>${item.name}</td>
            <td>${item.date || 'TBD'}</td>
          </tr>
        `;
        tableBody.innerHTML += row;
      });
      document.getElementById('iftar-modal').style.display = 'block';
    }

    function closeIftarList() {
      document.getElementById('iftar-modal').style.display = 'none';
    }

    // Auto-scroll for mobile and desktop, ensuring all messages are visible
    document.getElementById('chat-messages').addEventListener('DOMNodeInserted', () => {
      const messages = document.getElementById('chat-messages');
      messages.scrollTop = messages.scrollHeight; // Always show the latest message, but keep all visible
    });
  </script>
</body>
</html>
